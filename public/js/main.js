let userInfosController={values:[],init:()=>{userInfosController.updateValues(),$(".pace_vars").each((e,t)=>{$(t).on("change input keypress paste",()=>userInfosController.updateValues())})},updateValues:()=>{userInfosController.values=[],$(".pace_vars").each((e,t)=>{let a=$(t);userInfosController.values.push(a.val())}),paceCalcController.calculatePerfIndex(userInfosController.values)}},paceCalcController={perf_index:0,time_estimates:[],pace_times:[],calculatePerfIndex:e=>{let t=parseInt(e[2])>0?parseInt(e[2]):0,a=parseInt(e[3])>0?parseInt(e[3]):0,o=parseInt(e[4])>0?parseInt(e[4]):0,r=t>=5?1:1-.05/(t+1),l=a>=3?1:1-.05/(a+1),c=o>=60?1:1-.0015*(60-o),n=1*c*l*r<.9?.9:1*c*l*r,s=[t,a,o],C=$(".form__time");e[1].match(/^[0-9]{2}\:[0-9]{2}\:[0-9]{2}/)||""===e[1]?(C.removeClass("error"),s.every(e=>""!==e)&&(paceCalcController.perf_index=n,paceCalcController.calculateTimeFor(e))):C.addClass("error")},calculateTimeFor:e=>{let t=parseFloat(e[0]),a=paceCalcController.convertToSeconds(e[1]),o=paceCalcController.getTimeFromDistance(t,42.195,a),r=paceCalcController.getTimeFromDistance(t,21.0975,a),l=paceCalcController.getTimeFromDistance(t,10,a),c=paceCalcController.getTimeFromDistance(t,5,a);paceCalcController.time_estimates=[paceCalcController.convertToHours(o),paceCalcController.convertToHours(r),paceCalcController.convertToHours(l),paceCalcController.convertToHours(c)];let n=paceCalcController.getPaceFromDistance(42.195,o),s=paceCalcController.getPaceFromDistance(21.0975,r),C=paceCalcController.getPaceFromDistance(10,l),p=paceCalcController.getPaceFromDistance(5,c);paceCalcController.pace_times=[paceCalcController.convertToHours(n),paceCalcController.convertToHours(s),paceCalcController.convertToHours(C),paceCalcController.convertToHours(p)],paceCalcController.displayResults()},getTimeFromDistance:(e,t,a)=>{return t===e?a:42.195===t?a*(Math.pow(t/e,1.06)/paceCalcController.perf_index):a*Math.pow(t/e,1.06)},getPaceFromDistance:(e,t)=>Math.ceil(t)/e,displayResults:()=>{$(".ft_time > span").text(paceCalcController.time_estimates[0]),$(".ft_pace > span").text(paceCalcController.pace_times[0]),$(".to_time > span").text(paceCalcController.time_estimates[1]),$(".to_pace > span").text(paceCalcController.pace_times[1]),$(".tn_time > span").text(paceCalcController.time_estimates[2]),$(".tn_pace > span").text(paceCalcController.pace_times[2]),$(".fv_time > span").text(paceCalcController.time_estimates[3]),$(".fv_pace > span").text(paceCalcController.pace_times[3])},convertToSeconds:e=>moment.duration(e).asMilliseconds(),convertToHours:e=>moment.utc(e).format("HH:mm:ss")};$(function(){userInfosController.init()});